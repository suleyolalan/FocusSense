<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>FocuSense - Live Desk Monitor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Basit stil dosyamÄ±z -->
  <link rel="stylesheet" href="style.css" />

  <!-- MQTT ve Chart.js kÃ¼tÃ¼phaneleri (CDN Ã¼zerinden) -->
  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="app-container">
    <header>
      <h1>FocuSense - CanlÄ± Masa Takibi</h1>
      <p>ESP32 + HC-SR04 sensÃ¶rÃ¼nden gelen veriyi gerÃ§ek zamanlÄ± izleme</p>
    </header>

    <main>
      <section class="status-panel">
        <div class="card">
          <h2>AnlÄ±k Mesafe</h2>
          <p class="distance-value"><span id="distanceValue">-</span> cm</p>
        </div>

        <div class="card">
          <h2>Durum</h2>
          <p id="statusBadge" class="status-badge status-unknown">
            Bekleniyor...
          </p>
        </div>

        <div class="card">
          <h2>Son GÃ¼ncelleme</h2>
          <p id="lastUpdate">-</p>
        </div>
      </section>

      <!-- Telefon KullanÄ±m Paneli - YENÄ° -->
      <section class="status-panel">
        <div class="card">
          <h2>ğŸ“± Telefon Durumu</h2>
          <p id="phoneStatus" class="distance-value" style="font-size: 1.5rem;">
            <span id="phoneStatusText">Bekleniyor...</span>
          </p>
        </div>

        <div class="card">
          <h2>ğŸ“Š Telefon Alma SayÄ±sÄ±</h2>
          <p class="distance-value" style="font-size: 1.8rem;">
            <span id="phonePickupCount">0</span>
            <span style="font-size: 0.5em; color: #9ca3af;">kez</span>
          </p>
        </div>

        <div class="card">
          <h2>â±ï¸ Telefon KullanÄ±m SÃ¼resi</h2>
          <p class="distance-value" style="font-size: 1.8rem;">
            <span id="phoneUsageTime">0:00</span>
            <span style="font-size: 0.5em; color: #9ca3af;">dk</span>
          </p>
        </div>
      </section>

      <!-- Fokus Skoru Paneli -->
      <section class="focus-score-panel">
        <div class="card focus-score-card">
          <h2>Focus Score</h2>
          <canvas id="focusScoreChart" width="180" height="180"></canvas>
          <p id="focusScoreText" class="focus-score-text">HesaplanÄ±yor...</p>
        </div>
      </section>

      <!-- Telefon KullanÄ±m GrafiÄŸi - YENÄ° -->
      <section class="chart-panel">
        <h2>ğŸ“± Telefon KullanÄ±m GeÃ§miÅŸi</h2>
        <canvas id="phoneUsageChart" height="120"></canvas>
      </section>

      <section class="chart-panel">
        <h2>Son Ã–lÃ§Ã¼mler</h2>
        <canvas id="distanceChart" height="120"></canvas>
      </section>

      <section class="debug-panel">
        <h2>Test Ä°Ã§in SimÃ¼lasyon</h2>
        <button id="simulateBtn">Rastgele Mesafe Ãœret (ESP32 yokken deneme)</button>
        <pre id="debugLog"></pre>
      </section>
    </main>
  </div>

  <!-- ArtÄ±k tÃ¼m JS mantÄ±ÄŸÄ± dÄ±ÅŸarÄ±da: -->
  <script type="module" src="js/app.js"></script>
</body>
</html>
